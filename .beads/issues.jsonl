{"id":"devdug-059","title":"Implement cleanup strategy display with color coding","description":"Add visual phase between discovery and confirmation:\n\n**Phase: Strategy Preview** - Show cleanup plan for each project with color coding.\n\n**Colors:**\n- GREEN: Safe commands (cargo clean, npm ci, gradle clean) - will be executed\n- YELLOW: Tentative commands (make clean) - exists in Makefile but uncertain\n- RED: Paths/globs to be deleted (target/, node_modules/, *.o) - destructive\n\n**Format:**\n\n\n**Implementation:**\n1. Create CleanupStrategy struct with:\n   - safeCommands: [(command: String, color: .green)]\n   - tentativeCommands: [(command: String, color: .yellow)]\n   - pathsToDelete: [(path: String, glob: String?, size: UInt64)]\n2. For each project type in CLEANUP_RECIPES.md, populate strategy\n3. Display in preview phase with colors\n4. Calculate total space freed across all projects\n5. User sees exact plan before confirmation\n\nDepends on: devdug-2fu (cleanup strategy definitions) ✓ complete\nBlocked by: None","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-09T16:50:39.672691+07:00","created_by":"hippietrail","updated_at":"2026-01-09T16:50:39.672691+07:00"}
{"id":"devdug-2fu","title":"Define cleanup strategies for each project type","description":"Map project types to cleanup strategies (both approaches):\n\n**Approach 1: Safe command execution** (when available)\n- cargo → cargo clean\n- npm → npm ci --prefer-offline (reinstall from lock)\n- gradle → ./gradlew clean\n- maven → mvn clean\n\n**Approach 2: Direct deletion of artifacts** (always works, calculates space)\n- cargo → rm -rf target/\n- npm → rm -rf node_modules/ (recalculate: npm install from lock)\n- python-pip → rm -rf __pycache__/ dist/ build/ *.egg-info/\n- gradle → rm -rf build/\n- maven → rm -rf target/\n- xcode → rm -rf ~/Library/Developer/Xcode/DerivedData/ProjectName-*\n- intellij-idea → rm -rf .idea/cache/ .idea/caches/ .idea/shelf/\n- eclipse → rm -rf .metadata/ .recommenders/ .settings/ bin/\n- cmake → rm -rf cmake-build-*/\n- go → rm -rf vendor/ (if vendor dir)\n\nBenefit of paths: pre-calculate total disk space that will be freed and show in --clean mode before user confirms.\n\nCreate CleanupStrategy struct with both fields, use command when safe else fall back to paths.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-09T16:34:11.94746+07:00","created_by":"hippietrail","updated_at":"2026-01-09T16:35:02.733206+07:00"}
{"id":"devdug-49k","title":"Add intellij-platform aggregation in status summary","description":"Group intellij-idea, android-studio, rustrover, clion, etc. under 'intellij-platform' in final status report to show total JetBrains IDE projects","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-09T16:30:14.9957+07:00","created_by":"hippietrail","updated_at":"2026-01-09T16:30:14.9957+07:00"}
{"id":"devdug-pfb","title":"Add top status bar with phase navigation","description":"Add top line status bar showing current phase with context:\n\n**Phase definitions:**\n1. Detection (scanning IDEs + home dir)\n2. Display (showing discovered projects)\n3. Strategy (cleanup plan preview)\n4. Confirmation (user approval)\n5. Execution (actually cleaning)\n\n**Top bar format** (adapts to terminal width):\n\nWide (120+ cols): Phase 3/5: Display ... Strategy Preview ... Confirmation\nMedium (80 cols): Phase 3/5: Display ... Strategy ... Confirm\nNarrow (40 cols): 3/5: Display|Strategy|Confirm\n\n**Implementation:**\n- Use full names when width permits\n- Fall back to abbreviated: Display→Disp, Strategy→Strat, Confirmation→Confirm, Execution→Exec\n- Show prev ... current ... next phase names\n- Use '...' or '…' separator\n- Stick to top line (save/restore cursor like bottom bar)\n- Bold or inverse current phase name\n\nPairs well with bottom status bar (project counts) for complete UX.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-09T16:40:39.054435+07:00","created_by":"hippietrail","updated_at":"2026-01-09T16:40:39.054435+07:00"}
{"id":"devdug-ty0","title":"Add cleanup strategy preview phase","description":"Insert preview phase between discovery and confirmation:\n\nCurrent flow: Discovery → Display → Confirm → Execute\n\nNew flow: Discovery → Display → [PAUSE: press key] → Strategy Preview → Confirm → Execute\n\nIn Strategy Preview phase:\n- For each discovered project, show cleanup plan\n- Format: 'ProjectName (type): Will run cargo clean / Will delete target/ (245MB)'\n- Let user see exactly what will happen before confirmation\n- Calculate total space to be freed across all projects\n- Show both safe command (if available) and fallback paths\n\nBlocked by: devdug-2fu (cleanup strategy definitions)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-09T16:37:11.973807+07:00","created_by":"hippietrail","updated_at":"2026-01-09T16:37:11.973807+07:00"}
{"id":"devdug-vxg","title":"Build devdug core cleaning functionality","status":"open","priority":0,"issue_type":"epic","created_at":"2026-01-09T13:21:03.793976+07:00","created_by":"hippietrail","updated_at":"2026-01-09T13:21:03.793976+07:00"}
{"id":"devdug-vxg.1","title":"Dry-run mode by default with confirmation gates","description":"Implement default dry-run behavior. Require: 1) command-line flag to disable dry-run, 2) display what will be cleaned, 3) two confirmation prompts before actual deletion","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-09T13:21:11.776426+07:00","created_by":"hippietrail","updated_at":"2026-01-09T13:39:08.632547+07:00","closed_at":"2026-01-09T13:39:08.632547+07:00","close_reason":"Closed","dependencies":[{"issue_id":"devdug-vxg.1","depends_on_id":"devdug-vxg","type":"parent-child","created_at":"2026-01-09T13:21:11.777268+07:00","created_by":"hippietrail"}]}
{"id":"devdug-vxg.10","title":"Implement actual deletion/cleanup","description":"Add safe file deletion with proper error handling, logging, and fallback to 'mark for review' if permission errors","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-09T14:04:44.881761+07:00","created_by":"hippietrail","updated_at":"2026-01-09T14:04:44.881761+07:00","dependencies":[{"issue_id":"devdug-vxg.10","depends_on_id":"devdug-vxg","type":"parent-child","created_at":"2026-01-09T14:04:44.882622+07:00","created_by":"hippietrail"}]}
{"id":"devdug-vxg.11","title":"Explore \u0026 integrate TUI libraries for progress/status display","description":"Research lightweight TUI options for Swift or alternative approaches:\n- Ratatui (Rust): mature, full-featured TUI framework\n- Clime (Go): minimal progress bars and spinners\n- Other Swift terminal libraries\n- Consider: compile to binary vs shell script mode limitations\n- Goal: scrollable messages + progress bar + status line during scanning","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-09T14:50:12.064012+07:00","created_by":"hippietrail","updated_at":"2026-01-09T15:23:59.432418+07:00","closed_at":"2026-01-09T15:23:59.432418+07:00","close_reason":"Closed","dependencies":[{"issue_id":"devdug-vxg.11","depends_on_id":"devdug-vxg","type":"parent-child","created_at":"2026-01-09T14:50:12.065101+07:00","created_by":"hippietrail"}]}
{"id":"devdug-vxg.12","title":"Dynamically detect terminal height for responsive scroll regions","description":"Get actual terminal rows (via LINES env var, tput, or stty). Use that to size scroll region intelligently. Allow status bar to grow to 2-3 lines when needed. Test with various terminal sizes.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-09T15:21:34.948549+07:00","created_by":"hippietrail","updated_at":"2026-01-09T15:24:04.559881+07:00","closed_at":"2026-01-09T15:24:04.559881+07:00","close_reason":"Closed","dependencies":[{"issue_id":"devdug-vxg.12","depends_on_id":"devdug-vxg","type":"parent-child","created_at":"2026-01-09T15:21:34.949633+07:00","created_by":"hippietrail"}]}
{"id":"devdug-vxg.13","title":"Auto-wrap status bar when project type counts exceed line width","description":"Currently hard-coded to 80-char width. Make dynamic based on terminal width. Wrap to next line(s) if needed. Consider grouping by category (jvm, rust, zig, web, etc)","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-09T15:21:40.098201+07:00","created_by":"hippietrail","updated_at":"2026-01-09T15:24:09.678278+07:00","closed_at":"2026-01-09T15:24:09.678278+07:00","close_reason":"Closed","dependencies":[{"issue_id":"devdug-vxg.13","depends_on_id":"devdug-vxg","type":"parent-child","created_at":"2026-01-09T15:21:40.099059+07:00","created_by":"hippietrail"}]}
{"id":"devdug-vxg.2","title":"Detect and map IDE project locations","description":"Identify standard locations for: XCode projects, IntelliJ IDEA, RustRover, Android Studio, Eclipse. Check installed IDEs on system. Build location mapping.","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-09T13:21:22.428645+07:00","created_by":"hippietrail","updated_at":"2026-01-09T13:38:09.730148+07:00","closed_at":"2026-01-09T13:38:09.730148+07:00","close_reason":"Closed","dependencies":[{"issue_id":"devdug-vxg.2","depends_on_id":"devdug-vxg","type":"parent-child","created_at":"2026-01-09T13:21:22.429511+07:00","created_by":"hippietrail"}]}
{"id":"devdug-vxg.3","title":"Parse IDE workspace/project files","description":"Parse .xcworkspace, .idea files, Eclipse .project files, RustRover configs to extract project information","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-09T13:21:27.599824+07:00","created_by":"hippietrail","updated_at":"2026-01-09T13:21:27.599824+07:00","dependencies":[{"issue_id":"devdug-vxg.3","depends_on_id":"devdug-vxg","type":"parent-child","created_at":"2026-01-09T13:21:27.600678+07:00","created_by":"hippietrail"}]}
{"id":"devdug-vxg.4","title":"Directory structure detection and sniffing","description":"Scan directories for IDE/language/company-specific dotfiles, dotdirs, config files, XML/plist files. Implement heuristic detection for project types.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T13:21:32.782973+07:00","created_by":"hippietrail","updated_at":"2026-01-09T14:04:24.044338+07:00","closed_at":"2026-01-09T14:04:24.044338+07:00","close_reason":"Closed","dependencies":[{"issue_id":"devdug-vxg.4","depends_on_id":"devdug-vxg","type":"parent-child","created_at":"2026-01-09T13:21:32.783837+07:00","created_by":"hippietrail"}]}
{"id":"devdug-vxg.5","title":"List mode implementation","description":"Create 'list' command to enumerate all discovered projects: started, forgotten, downloaded, cloned. Show details.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-09T13:21:37.952342+07:00","created_by":"hippietrail","updated_at":"2026-01-09T13:21:37.952342+07:00","dependencies":[{"issue_id":"devdug-vxg.5","depends_on_id":"devdug-vxg","type":"parent-child","created_at":"2026-01-09T13:21:37.95321+07:00","created_by":"hippietrail"}]}
{"id":"devdug-vxg.6","title":"macOS firmlink handling","description":"Properly walk macOS firmlinks without duplicate counting. Use Swift to leverage native APIs if needed.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-09T13:21:43.128082+07:00","created_by":"hippietrail","updated_at":"2026-01-09T13:21:43.128082+07:00","dependencies":[{"issue_id":"devdug-vxg.6","depends_on_id":"devdug-vxg","type":"parent-child","created_at":"2026-01-09T13:21:43.128886+07:00","created_by":"hippietrail"}]}
{"id":"devdug-vxg.7","title":"Language choice: Swift vs Odin","description":"Decide implementation language. Swift script mode vs compiled Odin. Consider: macOS firmlinks, distribution, maintainability.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-09T13:21:48.30058+07:00","created_by":"hippietrail","updated_at":"2026-01-09T13:27:57.81129+07:00","closed_at":"2026-01-09T13:27:57.81129+07:00","close_reason":"Closed","dependencies":[{"issue_id":"devdug-vxg.7","depends_on_id":"devdug-vxg","type":"parent-child","created_at":"2026-01-09T13:21:48.301553+07:00","created_by":"hippietrail"}]}
{"id":"devdug-vxg.8","title":"Parse IntelliJ project files for metadata","description":"Read .idea config files (modules.xml, misc.xml, vcs.xml) to extract: project type (Kotlin vs Java), multiplatform vs single-platform, dependencies, JVM version, VCS info","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-09T14:04:34.503707+07:00","created_by":"hippietrail","updated_at":"2026-01-09T14:04:34.503707+07:00","dependencies":[{"issue_id":"devdug-vxg.8","depends_on_id":"devdug-vxg","type":"parent-child","created_at":"2026-01-09T14:04:34.504737+07:00","created_by":"hippietrail"}]}
{"id":"devdug-vxg.9","title":"Detect and parse Eclipse workspace structure","description":"Find Eclipse projects scattered in workspace or elsewhere. Parse .project and .classpath files. Handle Ghidra projects specifically.","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-09T14:04:39.694151+07:00","created_by":"hippietrail","updated_at":"2026-01-09T14:04:39.694151+07:00","dependencies":[{"issue_id":"devdug-vxg.9","depends_on_id":"devdug-vxg","type":"parent-child","created_at":"2026-01-09T14:04:39.694997+07:00","created_by":"hippietrail"}]}
